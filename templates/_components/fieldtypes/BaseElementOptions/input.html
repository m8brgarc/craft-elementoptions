{% if name is defined and name %}
	<input type="hidden" name="{{ name }}" value="">
{% endif -%}

{%- set options = (options is defined ? options : []) %}
{%- set optionName = (name is defined and name ? name~'[]' : null) %}
{%- set elementTypeClass = 'Asset' %}
{%- set dataOptions = {
	limit: settings.limit == '' ? null : settings.limit|round
} %}

{# {% set inputTemplate = settings.limit == 1 ? '_includes/forms/radio' : '_includes/forms/checkbox' %} #}
{% set inputTemplate = '_includes/forms/checkbox' %}

<div id="{{ id }}-options" class="elements ElementSelect" data-options="{{ dataOptions|json_encode() }}">
	<ul class="thumbsview">
	{%- for key, option in options %}
		<li class="element ElementSelect-option">
			{% if option.assets|length %}
				{% for element in option.assets %}
					{% include "_elements/element" with {
						size: settings.viewMode,
					} %}
				{% endfor %}
			{% endif %}

			{% include inputTemplate with {
				label:     option.label,
				class:		 'ElementSelect-input',
				id:        (loop.first and id is defined ? id : null),
				name:      optionName,
				value:     option.value,
				checked:   option.selected,
				autofocus: (autofocus is defined and autofocus and loop.first and not craft.request.isMobileBrowser(true))
			} only %}
		</li>
	{%- endfor %}
	</ul>
</div>
<div class="clear"></div>
